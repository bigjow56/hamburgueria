Vejo o problema! O cálculo está funcionando perfeitamente (logs mostram TOTAL FINAL: 16.2), mas a interface está mostrando "Preço recalculado! Burger Duplo: R$ 0.00".
Há uma desconexão entre o backend e o frontend. O servidor calcula corretamente, mas o valor não está chegando na interface.
Análise do problema:
Backend: ✅ Cálculo correto (R$ 16,20)
Frontend: ❌ Exibe R$ 0,00
Possíveis causas:

Response da API não inclui o preço calculado
Frontend não está lendo o response correto
Atualização do preço no banco não está funcionando

Vou criar um prompt para investigar:

PROBLEMA: Interface mostra R$ 0,00 mas cálculo está correto
Situação:

✅ Logs mostram cálculo correto: TOTAL FINAL: 16.2
❌ Interface exibe: "Preço recalculado! Burger Duplo: R$ 0.00"

INVESTIGAÇÃO NECESSÁRIA:
1️⃣ VERIFICAR O RESPONSE DA API
Na rota POST /api/products/:id/recalculate-price, adicionar log do response:
javascriptconst response = { 
  totalPrice: totalPrice,
  formattedPrice: `R$ ${totalPrice.toFixed(2)}`,
  ingredientsCount: ingredients?.length || 0
};

console.log('RESPONSE ENVIADO:', response);
res.json(response);
2️⃣ VERIFICAR SE ESTÁ ATUALIZANDO O BANCO
Adicionar após o cálculo:
javascript// Atualizar o preço no produto
await storage.updateProduct(productId, { price: totalPrice });
console.log('Preço atualizado no banco:', totalPrice);
3️⃣ VERIFICAR O FRONTEND
Encontrar o código JavaScript que faz a requisição e processa o response:
javascript// Deve estar algo assim no frontend:
fetch(`/api/products/${productId}/recalculate-price`, { method: 'POST' })
  .then(response => response.json())
  .then(data => {
    console.log('Response recebido no frontend:', data);
    // VERIFICAR SE ESTÁ USANDO data.totalPrice ou data.formattedPrice
  });
4️⃣ PROBLEMAS POSSÍVEIS A VERIFICAR
A) Response incorreto:

API retorna objeto mas frontend espera apenas número
Campo errado sendo usado (price vs totalPrice)

B) Atualização no banco:

Preço calculado não está sendo salvo no produto
Frontend busca preço do banco, não do response

C) Formatação:

Valor está correto mas formatação está errada
Moeda não está sendo exibida corretamente

AÇÃO REQUERIDA:

Adicionar logs no response da API
Verificar se está salvando no banco
Mostrar os logs do frontend (browser console)
Verificar se o preço persiste após refresh da página

O cálculo está perfeito - só falta conectar com a interface!